# Server-side request forgery (SSRF)
SSRF is a web security vulnerability that allows an attacker to induce the server-side application to make request to an unintended location.

## Common SSRF attacks
SSRF attacks often exploit trust relationships to escalate an attack from the vulnerable application and perform unauthorized actions.

### SSRF attacks against the server itself
In an SSRF attack against the server itself, the attacker induces the application to make an HTTP request back to the server that is hosting the application.
Example
```txt
POST /product/stock HTTP/1.0 
Content-Type: application/x-www-form-urlencoded 
Content-Length: 118 

stockApi=http://stock.weliketoshop.net:8080/product/stock/check%3FproductId%3D6%26storeId%3D1
```
This causes the server to make a request to the specified URL, retrieve the stock status and return this to the user

Attacker can use this and specify a URL local to the server itself:
```txt
POST /product/stock HTTP/1.0 
Content-Type: application/x-www-form-urlencoded 
Content-Length: 118 

stockApi=http://localhost/admin
```
Now the server will fetch the content of `/admin` URL and return it to the user

When the request to the `/admin` URL comes from the local machine itself the normal [[Access control]] is bypassed. 
This behaviour can arise for various reasons:
* The [[Access control]] check might be implmeneted in a different component that sits in front of the application server.
* For disaster recovery purposes the application might allow administrative access without logging in to any user coming from the local machine.
* The administrative interface might be listening on a different port number than the main application, and so might not be reachable directly by users.

### SSRF attacks againt other back-end systems
Another type of trust relationship that often arises with server-side request forgery is where the application server is able to interact with other back-end systems that are not directly reachable by users.
```txt
POST /product/stock HTTP/1.0 
Content-Type: application/x-www-form-urlencoded 
Content-Length: 118 

stockApi=http://192.168.0.68/admin
```

## [[Circumventing common SSRF defenses]]
## [[Blind SSRF]]
## [[Finding hidden attack surfaces for SSRF vulnerabilites]]
